{"expireTime":9007200872306492000,"key":"gatsby-plugin-mdx-entire-payload-74c7db50e7779b1fc11cde142f9b0e3e-","val":{"mdast":{"type":"root","children":[{"type":"paragraph","children":[{"type":"text","value":"Looking for a ","position":{"start":{"line":2,"column":1,"offset":2},"end":{"line":2,"column":15,"offset":16},"indent":[]}},{"type":"jsx","value":"<Link to='/docs/v1/javascript-SDK/quick-start'>","position":{"start":{"line":2,"column":15,"offset":16},"end":{"line":2,"column":62,"offset":63},"indent":[]}},{"type":"text","value":"quickstart","position":{"start":{"line":2,"column":62,"offset":63},"end":{"line":2,"column":72,"offset":73},"indent":[]}},{"type":"jsx","value":"</Link>","position":{"start":{"line":2,"column":72,"offset":73},"end":{"line":2,"column":79,"offset":80},"indent":[]}},{"type":"text","value":"?","position":{"start":{"line":2,"column":79,"offset":80},"end":{"line":2,"column":80,"offset":81},"indent":[]}}],"position":{"start":{"line":2,"column":1,"offset":2},"end":{"line":2,"column":80,"offset":81},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Let's talk pricing. This guide will focus on the two most important Kwikswap prices: the ","position":{"start":{"line":4,"column":1,"offset":85},"end":{"line":4,"column":90,"offset":174},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"mid price","position":{"start":{"line":4,"column":92,"offset":176},"end":{"line":4,"column":101,"offset":185},"indent":[]}}],"position":{"start":{"line":4,"column":90,"offset":174},"end":{"line":4,"column":103,"offset":187},"indent":[]}},{"type":"text","value":" and the ","position":{"start":{"line":4,"column":103,"offset":187},"end":{"line":4,"column":112,"offset":196},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"execution price","position":{"start":{"line":4,"column":114,"offset":198},"end":{"line":4,"column":129,"offset":213},"indent":[]}}],"position":{"start":{"line":4,"column":112,"offset":196},"end":{"line":4,"column":131,"offset":215},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":4,"column":131,"offset":215},"end":{"line":4,"column":132,"offset":216},"indent":[]}}],"position":{"start":{"line":4,"column":1,"offset":85},"end":{"line":4,"column":132,"offset":216},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"Mid Price","position":{"start":{"line":6,"column":3,"offset":222},"end":{"line":6,"column":12,"offset":231},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":220},"end":{"line":6,"column":12,"offset":231},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The mid price, in the context of Kwikswap, is the price that reflects the ","position":{"start":{"line":8,"column":1,"offset":235},"end":{"line":8,"column":75,"offset":309},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"ratio of reserves in one or more pairs","position":{"start":{"line":8,"column":76,"offset":310},"end":{"line":8,"column":114,"offset":348},"indent":[]}}],"position":{"start":{"line":8,"column":75,"offset":309},"end":{"line":8,"column":115,"offset":349},"indent":[]}},{"type":"text","value":". There are three ways we can think about this price. Perhaps most simply, it defines the relative value of one token in terms of the other. It also represents the price at which you could theoretically trade an infinitesimal amount (ε) of one token for the other. Finally, it can be interpreted as the current ","position":{"start":{"line":8,"column":115,"offset":349},"end":{"line":8,"column":426,"offset":660},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"market-clearing or fair value price","position":{"start":{"line":8,"column":427,"offset":661},"end":{"line":8,"column":462,"offset":696},"indent":[]}}],"position":{"start":{"line":8,"column":426,"offset":660},"end":{"line":8,"column":463,"offset":697},"indent":[]}},{"type":"text","value":" of the assets.","position":{"start":{"line":8,"column":463,"offset":697},"end":{"line":8,"column":478,"offset":712},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":235},"end":{"line":8,"column":478,"offset":712},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Let's consider the mid price for DAI-WETH (that is, the amount of DAI per 1 WETH).","position":{"start":{"line":10,"column":1,"offset":716},"end":{"line":10,"column":83,"offset":798},"indent":[]}}],"position":{"start":{"line":10,"column":1,"offset":716},"end":{"line":10,"column":83,"offset":798},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Direct","position":{"start":{"line":12,"column":4,"offset":805},"end":{"line":12,"column":10,"offset":811},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":802},"end":{"line":12,"column":10,"offset":811},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The simplest way to get the DAI-WETH mid price is to observe the pair directly:","position":{"start":{"line":14,"column":1,"offset":815},"end":{"line":14,"column":80,"offset":894},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":815},"end":{"line":14,"column":80,"offset":894},"indent":[]}},{"type":"code","lang":"typescript","meta":null,"value":"import { ChainId, Token, WETH, Fetcher, Route } from '@kwikswap/sdk'\n\nconst DAI = new Token(ChainId.MAINNET, '0x6B175474E89094C44Da98b954EedeAC495271d0F', 18)\n\n// note that you may want/need to handle this async code differently,\n// for example if top-level await is not an option\nconst pair = await Fetcher.fetchPairData(DAI, WETH[DAI.chainId])\n\nconst route = new Route([pair], WETH[DAI.chainId])\n\nconsole.log(route.midPrice.toSignificant(6)) // 201.306\nconsole.log(route.midPrice.invert().toSignificant(6)) // 0.00496756","position":{"start":{"line":16,"column":1,"offset":898},"end":{"line":29,"column":4,"offset":1451},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"You may be wondering why we have to construct a ","position":{"start":{"line":31,"column":1,"offset":1455},"end":{"line":31,"column":49,"offset":1503},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"route","position":{"start":{"line":31,"column":50,"offset":1504},"end":{"line":31,"column":55,"offset":1509},"indent":[]}}],"position":{"start":{"line":31,"column":49,"offset":1503},"end":{"line":31,"column":56,"offset":1510},"indent":[]}},{"type":"text","value":" to get the mid price, as opposed to simply getting it from the pair (which, after all, includes all the necessary data). The reason is simple: a route forces us to be opinionated about the ","position":{"start":{"line":31,"column":56,"offset":1510},"end":{"line":31,"column":246,"offset":1700},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"direction","position":{"start":{"line":31,"column":247,"offset":1701},"end":{"line":31,"column":256,"offset":1710},"indent":[]}}],"position":{"start":{"line":31,"column":246,"offset":1700},"end":{"line":31,"column":257,"offset":1711},"indent":[]}},{"type":"text","value":" of trading. Routes consist of one or more pairs, and an input token (which fully defines a trading path). In this case, we passed WETH as the input token, meaning we're interested in a WETH -> DAI trade.","position":{"start":{"line":31,"column":257,"offset":1711},"end":{"line":31,"column":461,"offset":1915},"indent":[]}}],"position":{"start":{"line":31,"column":1,"offset":1455},"end":{"line":31,"column":461,"offset":1915},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Now we understand that the mid price is going to be defined in terms of DAI/WETH. Not to worry though, if we need the WETH/DAI price, we can easily invert.","position":{"start":{"line":33,"column":1,"offset":1919},"end":{"line":33,"column":156,"offset":2074},"indent":[]}}],"position":{"start":{"line":33,"column":1,"offset":1919},"end":{"line":33,"column":156,"offset":2074},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Finally, you may have noticed that we're formatting the price to 6 significant digits. This is because internally, prices are stored as exact-precision fractions, which can be converted to other representations on demand. For a full list of options, see ","position":{"start":{"line":35,"column":1,"offset":2078},"end":{"line":35,"column":255,"offset":2332},"indent":[]}},{"type":"jsx","value":"<Link to='/docs/v1/SDK/fractions#price'>","position":{"start":{"line":35,"column":255,"offset":2332},"end":{"line":35,"column":295,"offset":2372},"indent":[]}},{"type":"text","value":"Price","position":{"start":{"line":35,"column":295,"offset":2372},"end":{"line":35,"column":300,"offset":2377},"indent":[]}},{"type":"jsx","value":"</Link>","position":{"start":{"line":35,"column":300,"offset":2377},"end":{"line":35,"column":307,"offset":2384},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":35,"column":307,"offset":2384},"end":{"line":35,"column":308,"offset":2385},"indent":[]}}],"position":{"start":{"line":35,"column":1,"offset":2078},"end":{"line":35,"column":308,"offset":2385},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Indirect","position":{"start":{"line":37,"column":4,"offset":2392},"end":{"line":37,"column":12,"offset":2400},"indent":[]}}],"position":{"start":{"line":37,"column":1,"offset":2389},"end":{"line":37,"column":12,"offset":2400},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"For the sake of example, let's imagine a direct pair between DAI and WETH ","position":{"start":{"line":39,"column":1,"offset":2404},"end":{"line":39,"column":75,"offset":2478},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"doesn't exist","position":{"start":{"line":39,"column":76,"offset":2479},"end":{"line":39,"column":89,"offset":2492},"indent":[]}}],"position":{"start":{"line":39,"column":75,"offset":2478},"end":{"line":39,"column":90,"offset":2493},"indent":[]}},{"type":"text","value":". In order to get a DAI-WETH mid price we'll need to pick a valid route. Imagine both DAI and WETH have pairs with a third token, USDC. In that case, we can calculate an indirect mid price through the USDC pairs: ","position":{"start":{"line":39,"column":90,"offset":2493},"end":{"line":39,"column":303,"offset":2706},"indent":[]}}],"position":{"start":{"line":39,"column":1,"offset":2404},"end":{"line":39,"column":303,"offset":2706},"indent":[]}},{"type":"code","lang":"typescript","meta":null,"value":"import { ChainId, Token, WETH, Fetcher, Route } from '@kwikswap/sdk'\n\nconst USDC = new Token(ChainId.MAINNET, '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48', 6)\nconst DAI = new Token(ChainId.MAINNET, '0x6B175474E89094C44Da98b954EedeAC495271d0F', 18)\n\n// note that you may want/need to handle this async code differently,\n// for example if top-level await is not an option\nconst USDCWETHPair = await Fetcher.fetchPairData(USDC, WETH[ChainId.MAINNET])\nconst DAIUSDCPair = await Fetcher.fetchPairData(DAI, USDC)\n\nconst route = new Route([USDCWETHPair, DAIUSDCPair], WETH[ChainId.MAINNET])\n\nconsole.log(route.midPrice.toSignificant(6)) // 202.081\nconsole.log(route.midPrice.invert().toSignificant(6)) // 0.00494851","position":{"start":{"line":41,"column":1,"offset":2710},"end":{"line":56,"column":4,"offset":3451},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"Execution Price","position":{"start":{"line":58,"column":3,"offset":3457},"end":{"line":58,"column":18,"offset":3472},"indent":[]}}],"position":{"start":{"line":58,"column":1,"offset":3455},"end":{"line":58,"column":18,"offset":3472},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Mid prices are great representations of the ","position":{"start":{"line":60,"column":1,"offset":3476},"end":{"line":60,"column":45,"offset":3520},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"current","position":{"start":{"line":60,"column":46,"offset":3521},"end":{"line":60,"column":53,"offset":3528},"indent":[]}}],"position":{"start":{"line":60,"column":45,"offset":3520},"end":{"line":60,"column":54,"offset":3529},"indent":[]}},{"type":"text","value":" state of a route, but what about trades? It turns out that it makes sense to define another price, the ","position":{"start":{"line":60,"column":54,"offset":3529},"end":{"line":60,"column":158,"offset":3633},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"execution","position":{"start":{"line":60,"column":159,"offset":3634},"end":{"line":60,"column":168,"offset":3643},"indent":[]}}],"position":{"start":{"line":60,"column":158,"offset":3633},"end":{"line":60,"column":169,"offset":3644},"indent":[]}},{"type":"text","value":" price of a trade, as the ratio of assets sent/received.","position":{"start":{"line":60,"column":169,"offset":3644},"end":{"line":60,"column":225,"offset":3700},"indent":[]}}],"position":{"start":{"line":60,"column":1,"offset":3476},"end":{"line":60,"column":225,"offset":3700},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Imagine we're interested in trading 1 WETH for DAI:","position":{"start":{"line":62,"column":1,"offset":3704},"end":{"line":62,"column":52,"offset":3755},"indent":[]}}],"position":{"start":{"line":62,"column":1,"offset":3704},"end":{"line":62,"column":52,"offset":3755},"indent":[]}},{"type":"code","lang":"typescript","meta":null,"value":"import { ChainId, Token, WETH, Fetcher, Trade, Route, TokenAmount, TradeType } from '@kwikswap/sdk'\n\nconst DAI = new Token(ChainId.MAINNET, '0x6B175474E89094C44Da98b954EedeAC495271d0F', 18)\n\n// note that you may want/need to handle this async code differently,\n// for example if top-level await is not an option\nconst pair = await Fetcher.fetchPairData(DAI, WETH[DAI.chainId])\n\nconst route = new Route([pair], WETH[DAI.chainId])\n\nconst trade = new Trade(route, new TokenAmount(WETH[DAI.chainId], '1000000000000000000'), TradeType.EXACT_INPUT)\n\nconsole.log(trade.executionPrice.toSignificant(6))\nconsole.log(trade.nextMidPrice.toSignificant(6))","position":{"start":{"line":64,"column":1,"offset":3759},"end":{"line":79,"column":4,"offset":4435},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Notice that we're constructing a trade of 1 WETH for as much DAI as possible, ","position":{"start":{"line":81,"column":1,"offset":4439},"end":{"line":81,"column":79,"offset":4517},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"given the current reserves of the direct pair","position":{"start":{"line":81,"column":80,"offset":4518},"end":{"line":81,"column":125,"offset":4563},"indent":[]}}],"position":{"start":{"line":81,"column":79,"offset":4517},"end":{"line":81,"column":126,"offset":4564},"indent":[]}},{"type":"text","value":". The execution price represents the average DAI/WETH price for this trade. Of course, the reserves of any pair can change every block, which would affect the execution price.","position":{"start":{"line":81,"column":126,"offset":4564},"end":{"line":81,"column":301,"offset":4739},"indent":[]}}],"position":{"start":{"line":81,"column":1,"offset":4439},"end":{"line":81,"column":301,"offset":4739},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Also notice that we're able to access the ","position":{"start":{"line":83,"column":1,"offset":4743},"end":{"line":83,"column":43,"offset":4785},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"next","position":{"start":{"line":83,"column":44,"offset":4786},"end":{"line":83,"column":48,"offset":4790},"indent":[]}}],"position":{"start":{"line":83,"column":43,"offset":4785},"end":{"line":83,"column":49,"offset":4791},"indent":[]}},{"type":"text","value":" mid price, if the trade were to complete successfully before the reserves changed.","position":{"start":{"line":83,"column":49,"offset":4791},"end":{"line":83,"column":132,"offset":4874},"indent":[]}}],"position":{"start":{"line":83,"column":1,"offset":4743},"end":{"line":83,"column":132,"offset":4874},"indent":[]}},{"type":"export","value":"export const _frontmatter = {\"title\":\"Pricing\",\"tags\":\"SDK, developer-guides, documentation\"}","position":{"start":{"line":86,"column":1,"offset":4878},"end":{"line":86,"column":94,"offset":4971},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":86,"column":94,"offset":4971}}},"scopeImports":["import * as React from 'react'"],"scopeIdentifiers":["React"],"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Pricing\",\n  \"tags\": \"SDK, developer-guides, documentation\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar Link = makeShortcode(\"Link\");\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Looking for a \", mdx(Link, {\n    to: \"/docs/v1/javascript-SDK/quick-start\",\n    mdxType: \"Link\"\n  }, \"quickstart\"), \"?\"), mdx(\"p\", null, \"Let\\u2019s talk pricing. This guide will focus on the two most important Kwikswap prices: the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"mid price\"), \" and the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"execution price\"), \".\"), mdx(\"h1\", {\n    \"id\": \"mid-price\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h1\",\n    \"href\": \"#mid-price\",\n    \"aria-label\": \"mid price permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Mid Price\"), mdx(\"p\", null, \"The mid price, in the context of Kwikswap, is the price that reflects the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"ratio of reserves in one or more pairs\"), \". There are three ways we can think about this price. Perhaps most simply, it defines the relative value of one token in terms of the other. It also represents the price at which you could theoretically trade an infinitesimal amount (\\u03B5) of one token for the other. Finally, it can be interpreted as the current \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"market-clearing or fair value price\"), \" of the assets.\"), mdx(\"p\", null, \"Let\\u2019s consider the mid price for DAI-WETH (that is, the amount of DAI per 1 WETH).\"), mdx(\"h2\", {\n    \"id\": \"direct\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#direct\",\n    \"aria-label\": \"direct permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Direct\"), mdx(\"p\", null, \"The simplest way to get the DAI-WETH mid price is to observe the pair directly:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-typescript\"\n  }, \"import { ChainId, Token, WETH, Fetcher, Route } from '@kwikswap/sdk'\\n\\nconst DAI = new Token(ChainId.MAINNET, '0x6B175474E89094C44Da98b954EedeAC495271d0F', 18)\\n\\n// note that you may want/need to handle this async code differently,\\n// for example if top-level await is not an option\\nconst pair = await Fetcher.fetchPairData(DAI, WETH[DAI.chainId])\\n\\nconst route = new Route([pair], WETH[DAI.chainId])\\n\\nconsole.log(route.midPrice.toSignificant(6)) // 201.306\\nconsole.log(route.midPrice.invert().toSignificant(6)) // 0.00496756\\n\")), mdx(\"p\", null, \"You may be wondering why we have to construct a \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"route\"), \" to get the mid price, as opposed to simply getting it from the pair (which, after all, includes all the necessary data). The reason is simple: a route forces us to be opinionated about the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"direction\"), \" of trading. Routes consist of one or more pairs, and an input token (which fully defines a trading path). In this case, we passed WETH as the input token, meaning we\\u2019re interested in a WETH -> DAI trade.\"), mdx(\"p\", null, \"Now we understand that the mid price is going to be defined in terms of DAI/WETH. Not to worry though, if we need the WETH/DAI price, we can easily invert.\"), mdx(\"p\", null, \"Finally, you may have noticed that we\\u2019re formatting the price to 6 significant digits. This is because internally, prices are stored as exact-precision fractions, which can be converted to other representations on demand. For a full list of options, see \", mdx(Link, {\n    to: \"/docs/v1/SDK/fractions#price\",\n    mdxType: \"Link\"\n  }, \"Price\"), \".\"), mdx(\"h2\", {\n    \"id\": \"indirect\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#indirect\",\n    \"aria-label\": \"indirect permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Indirect\"), mdx(\"p\", null, \"For the sake of example, let\\u2019s imagine a direct pair between DAI and WETH \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"doesn\\u2019t exist\"), \". In order to get a DAI-WETH mid price we\\u2019ll need to pick a valid route. Imagine both DAI and WETH have pairs with a third token, USDC. In that case, we can calculate an indirect mid price through the USDC pairs: \"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-typescript\"\n  }, \"import { ChainId, Token, WETH, Fetcher, Route } from '@kwikswap/sdk'\\n\\nconst USDC = new Token(ChainId.MAINNET, '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48', 6)\\nconst DAI = new Token(ChainId.MAINNET, '0x6B175474E89094C44Da98b954EedeAC495271d0F', 18)\\n\\n// note that you may want/need to handle this async code differently,\\n// for example if top-level await is not an option\\nconst USDCWETHPair = await Fetcher.fetchPairData(USDC, WETH[ChainId.MAINNET])\\nconst DAIUSDCPair = await Fetcher.fetchPairData(DAI, USDC)\\n\\nconst route = new Route([USDCWETHPair, DAIUSDCPair], WETH[ChainId.MAINNET])\\n\\nconsole.log(route.midPrice.toSignificant(6)) // 202.081\\nconsole.log(route.midPrice.invert().toSignificant(6)) // 0.00494851\\n\")), mdx(\"h1\", {\n    \"id\": \"execution-price\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h1\",\n    \"href\": \"#execution-price\",\n    \"aria-label\": \"execution price permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Execution Price\"), mdx(\"p\", null, \"Mid prices are great representations of the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"current\"), \" state of a route, but what about trades? It turns out that it makes sense to define another price, the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"execution\"), \" price of a trade, as the ratio of assets sent/received.\"), mdx(\"p\", null, \"Imagine we\\u2019re interested in trading 1 WETH for DAI:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-typescript\"\n  }, \"import { ChainId, Token, WETH, Fetcher, Trade, Route, TokenAmount, TradeType } from '@kwikswap/sdk'\\n\\nconst DAI = new Token(ChainId.MAINNET, '0x6B175474E89094C44Da98b954EedeAC495271d0F', 18)\\n\\n// note that you may want/need to handle this async code differently,\\n// for example if top-level await is not an option\\nconst pair = await Fetcher.fetchPairData(DAI, WETH[DAI.chainId])\\n\\nconst route = new Route([pair], WETH[DAI.chainId])\\n\\nconst trade = new Trade(route, new TokenAmount(WETH[DAI.chainId], '1000000000000000000'), TradeType.EXACT_INPUT)\\n\\nconsole.log(trade.executionPrice.toSignificant(6))\\nconsole.log(trade.nextMidPrice.toSignificant(6))\\n\")), mdx(\"p\", null, \"Notice that we\\u2019re constructing a trade of 1 WETH for as much DAI as possible, \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"given the current reserves of the direct pair\"), \". The execution price represents the average DAI/WETH price for this trade. Of course, the reserves of any pair can change every block, which would affect the execution price.\"), mdx(\"p\", null, \"Also notice that we\\u2019re able to access the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"next\"), \" mid price, if the trade were to complete successfully before the reserves changed.\"));\n}\n;\nMDXContent.isMDXComponent = true;","rawMDXOutput":"/* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nexport const _frontmatter = {\n  \"title\": \"Pricing\",\n  \"tags\": \"SDK, developer-guides, documentation\"\n};\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n      console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n      return <div {...props}/>\n    };\nconst Link = makeShortcode(\"Link\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <p>{`Looking for a `}<Link to='/docs/v1/javascript-SDK/quick-start' mdxType=\"Link\">{`quickstart`}</Link>{`?`}</p>\n    <p>{`Let’s talk pricing. This guide will focus on the two most important Kwikswap prices: the `}<strong parentName=\"p\">{`mid price`}</strong>{` and the `}<strong parentName=\"p\">{`execution price`}</strong>{`.`}</p>\n    <h1 {...{\n      \"id\": \"mid-price\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h1\" {...{\n        \"href\": \"#mid-price\",\n        \"aria-label\": \"mid price permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Mid Price`}</h1>\n    <p>{`The mid price, in the context of Kwikswap, is the price that reflects the `}<em parentName=\"p\">{`ratio of reserves in one or more pairs`}</em>{`. There are three ways we can think about this price. Perhaps most simply, it defines the relative value of one token in terms of the other. It also represents the price at which you could theoretically trade an infinitesimal amount (ε) of one token for the other. Finally, it can be interpreted as the current `}<em parentName=\"p\">{`market-clearing or fair value price`}</em>{` of the assets.`}</p>\n    <p>{`Let’s consider the mid price for DAI-WETH (that is, the amount of DAI per 1 WETH).`}</p>\n    <h2 {...{\n      \"id\": \"direct\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h2\" {...{\n        \"href\": \"#direct\",\n        \"aria-label\": \"direct permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Direct`}</h2>\n    <p>{`The simplest way to get the DAI-WETH mid price is to observe the pair directly:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-typescript\"\n      }}>{`import { ChainId, Token, WETH, Fetcher, Route } from '@kwikswap/sdk'\n\nconst DAI = new Token(ChainId.MAINNET, '0x6B175474E89094C44Da98b954EedeAC495271d0F', 18)\n\n// note that you may want/need to handle this async code differently,\n// for example if top-level await is not an option\nconst pair = await Fetcher.fetchPairData(DAI, WETH[DAI.chainId])\n\nconst route = new Route([pair], WETH[DAI.chainId])\n\nconsole.log(route.midPrice.toSignificant(6)) // 201.306\nconsole.log(route.midPrice.invert().toSignificant(6)) // 0.00496756\n`}</code></pre>\n    <p>{`You may be wondering why we have to construct a `}<em parentName=\"p\">{`route`}</em>{` to get the mid price, as opposed to simply getting it from the pair (which, after all, includes all the necessary data). The reason is simple: a route forces us to be opinionated about the `}<em parentName=\"p\">{`direction`}</em>{` of trading. Routes consist of one or more pairs, and an input token (which fully defines a trading path). In this case, we passed WETH as the input token, meaning we’re interested in a WETH -> DAI trade.`}</p>\n    <p>{`Now we understand that the mid price is going to be defined in terms of DAI/WETH. Not to worry though, if we need the WETH/DAI price, we can easily invert.`}</p>\n    <p>{`Finally, you may have noticed that we’re formatting the price to 6 significant digits. This is because internally, prices are stored as exact-precision fractions, which can be converted to other representations on demand. For a full list of options, see `}<Link to='/docs/v1/SDK/fractions#price' mdxType=\"Link\">{`Price`}</Link>{`.`}</p>\n    <h2 {...{\n      \"id\": \"indirect\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h2\" {...{\n        \"href\": \"#indirect\",\n        \"aria-label\": \"indirect permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Indirect`}</h2>\n    <p>{`For the sake of example, let’s imagine a direct pair between DAI and WETH `}<em parentName=\"p\">{`doesn’t exist`}</em>{`. In order to get a DAI-WETH mid price we’ll need to pick a valid route. Imagine both DAI and WETH have pairs with a third token, USDC. In that case, we can calculate an indirect mid price through the USDC pairs: `}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-typescript\"\n      }}>{`import { ChainId, Token, WETH, Fetcher, Route } from '@kwikswap/sdk'\n\nconst USDC = new Token(ChainId.MAINNET, '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48', 6)\nconst DAI = new Token(ChainId.MAINNET, '0x6B175474E89094C44Da98b954EedeAC495271d0F', 18)\n\n// note that you may want/need to handle this async code differently,\n// for example if top-level await is not an option\nconst USDCWETHPair = await Fetcher.fetchPairData(USDC, WETH[ChainId.MAINNET])\nconst DAIUSDCPair = await Fetcher.fetchPairData(DAI, USDC)\n\nconst route = new Route([USDCWETHPair, DAIUSDCPair], WETH[ChainId.MAINNET])\n\nconsole.log(route.midPrice.toSignificant(6)) // 202.081\nconsole.log(route.midPrice.invert().toSignificant(6)) // 0.00494851\n`}</code></pre>\n    <h1 {...{\n      \"id\": \"execution-price\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h1\" {...{\n        \"href\": \"#execution-price\",\n        \"aria-label\": \"execution price permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Execution Price`}</h1>\n    <p>{`Mid prices are great representations of the `}<em parentName=\"p\">{`current`}</em>{` state of a route, but what about trades? It turns out that it makes sense to define another price, the `}<em parentName=\"p\">{`execution`}</em>{` price of a trade, as the ratio of assets sent/received.`}</p>\n    <p>{`Imagine we’re interested in trading 1 WETH for DAI:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-typescript\"\n      }}>{`import { ChainId, Token, WETH, Fetcher, Trade, Route, TokenAmount, TradeType } from '@kwikswap/sdk'\n\nconst DAI = new Token(ChainId.MAINNET, '0x6B175474E89094C44Da98b954EedeAC495271d0F', 18)\n\n// note that you may want/need to handle this async code differently,\n// for example if top-level await is not an option\nconst pair = await Fetcher.fetchPairData(DAI, WETH[DAI.chainId])\n\nconst route = new Route([pair], WETH[DAI.chainId])\n\nconst trade = new Trade(route, new TokenAmount(WETH[DAI.chainId], '1000000000000000000'), TradeType.EXACT_INPUT)\n\nconsole.log(trade.executionPrice.toSignificant(6))\nconsole.log(trade.nextMidPrice.toSignificant(6))\n`}</code></pre>\n    <p>{`Notice that we’re constructing a trade of 1 WETH for as much DAI as possible, `}<em parentName=\"p\">{`given the current reserves of the direct pair`}</em>{`. The execution price represents the average DAI/WETH price for this trade. Of course, the reserves of any pair can change every block, which would affect the execution price.`}</p>\n    <p>{`Also notice that we’re able to access the `}<em parentName=\"p\">{`next`}</em>{` mid price, if the trade were to complete successfully before the reserves changed.`}</p>\n\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;"}}